Para cierto módulo de un carrito de compras web, se desea poder totalizar el valor de una compra.
La compra, naturalmente, puede tener uno o más ítems.
Puede comprarse más de un ítem del mismo artículo.
No es necesario controlar stock.
Existen artículos individuales, y packs. Los packs pueden tener tres tipos de precio:
Precio con descuento: el valor del pack tiene un porcentaje de descuento.
Precio fijo: el valor del pack tiene un precio fijado, independientemente del precio de sus ítems.
Uno de regalo: el pack contiene un artículo que se obsequia con la compra del mismo.

Necesitamos programar una pieza de código que pueda manejar todas estas situaciones, arrojando el total de la compra.